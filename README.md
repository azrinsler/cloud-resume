# Readme

![Architecture Diagram](diagrams/architecture.drawio.svg)

## Notable Manual Steps

- Initial creation of the AWS account itself
- Created an IAM user w/ admin rights and no console access for programmatic access and deployments
- Registered domain name in Route 53: azrinsler.com
  - AWS cost for a site using the '.com' TLD is ~$14/year
  - Verified email address (the message got caught by spam as a phishing attempt)
  - Deleted the hosted zone for this domain (which was generated by AWS registrar instead of Terraform)
- Created S3 bucket to hold Terraform state

## Environment Setup Stuff

- Make sure you have Java 21 installed
  - JAVA_HOME should point to the correct JDK
  - JAVA_HOME should be included in PATH (append "\bin" so Windows can find it good)
  - Point IntelliJ to the .m2 settings.xml and repository defined in this repo 
- Install Maven if necessary
- [Install or update Terraform](https://developer.hashicorp.com/terraform/tutorials/aws-get-started/install-cli)
- Install AWS Toolkit Plugin in IntelliJ
- Install AWS SAM CLI
- Install Postman
- `cd` to Python Lambda directory and run an `npm install` (or whatever IntelliJ recommends)
  - This may only be necessary if you want to work on the Python function locally â€” it does not affect remote?


- Can use chocolatey on Windows for CLI-based installation 
  - Use an admin command prompt
  - Maven: `choco install maven`
  - Terraform CLI: `choco install terraform`
  - AWS CLI: `choco install awscli`
  - AWS SAM: `choco install awssamcli`
  
## Helpful Commands

- `mvn clean package; terraform apply -auto-approve`

## Other Links

- Initial requirements loosely based on [Cloud Resume Challenge](https://cloudresumechallenge.dev/docs/the-challenge/aws/)
- [Site-related Terraform based on this blog post](https://blog.demir.io/setup-an-s3-cloudfront-website-with-terraform-268d5230f05)
- [Also, this one](https://medium.com/@frankpromiseedah/hosting-a-static-website-on-aws-s3-using-terraform-e12addd22d18)
- [Terraform Lambda w/ API Gateway tutorial](https://developer.hashicorp.com/terraform/tutorials/aws/lambda-api-gateway#create-an-http-api-with-api-gateway)